<%if(typeof arreglo === 'undefined')%>
<%var arreglo = [];%>

<div class="container">
  <form method="post" action="/addBautismo">
    <div class="form-group">
      <label for="inputpadrino">Padrino(s) y Madrina(s)</label>
      <div class="form-row">
        <div class="col-auto">
          <button type="button" class="btn btn-light" data-toggle="modal" data-target="#ModalPadrino">
            Seleccionar Padrinos y madrinas</button>
        </div>
        <div class="col-auto">
          <%if(typeof arreglo != 'undefined') {%>
          <li>
            <ul>
              <%= arreglo[0]; %>
            </ul>
          </li>
          <%}%>
        </div>
        <div class="col-auto">
          <a class="btn btn-primary" href="/persona/formulario/0" role="button">Nueva Persona</a>
        </div>
      </div>
    </div>
    <div class="form-group row col-12">
      <label for="inputnombre">Nombre</label>
      <input name="nombre" class="form-control" id="inputnombre" type="text" placeholder="Nombre del niño">
    </div>
    <div class="form-group row col-12">
      <label for="inputdni">DNI</label>
      <input name="dni" class="form-control" id="inputdni" type="text" placeholder="DNI del niño">
    </div>
    <div class="form-group row col-12">
      <label for="inputfecha">Fecha</label>
      <input name="fecha" class="form-control" id="inputfecha" type="text" placeholder="Fecha del bautismo">
    </div>
    <div class="form-group row col-12">
      <label for="inputturno">Turno</label>
      <input name="turno" class="form-control" id="inputturno" type="text" placeholder="Turno del bautismo">
    </div>
    <div class="form-group row col-12">
      <input type="submit" class="btn btn-primary btn-block" value="Agregar">
    </div>
  </form>
</div>


<!-- Modal Padrinos-->
<div class="modal fade" id="ModalPadrino" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Seleccionar padrinos y madrinas</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form style="width: 50%; margin:auto;">
          <div class="form-row">
            <div class="form-group col-md-9">
              <label for="nombre">Buscar</label>
              <input class="form-control mr-sm-2" type="search" placeholder="Buscar persona por nombre o DNI"
                     aria-label="Search" name="buscador" onkeyup="buscarPersonaBautismo(arreglo)" size="40">
            </div>
          </div>
        </form>
        <form>
          <table id="personas" class="table table-striped table-hover" style="width: 50%; margin:auto;">
            <thead>
            <tr>
              <th>Agregar</th>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>DNI</th>
            </tr>
            </thead>
            <tbody id="tabla">
            <% for(var i = 0; i < persona.length ; i++){ %>
            <tr>
              <td>
                <div onclick="arreglo.push(persona[i].id)" class="btn btn-primary" id="agregar/<%= persona[i].id %>"><i class="fas fa-plus-square"></i></div>
              </td>
              <td><%= persona[i].nombre %></td>
              <td><%= persona[i].apellido %></td>
              <td><%= persona[i].dni %></td>
            </tr>
            <% } %>
            </tbody>
          </table>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <input type="submit" class="btn btn-primary" value="Agregar">
      </div>
    </div>
  </div>
</div>
